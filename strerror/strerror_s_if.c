// gcc -c -std=c11 -Os
// gcc 11 optimises if statements to switch
#include <errno.h>
#include <stdio.h>

const char* strerror_s(int err)
{
    if (err == E2BIG)           return "E2BIG";
    if (err == EACCES)          return "EACCES";
    if (err == EADDRINUSE)      return "EADDRINUSE";
    if (err == EADDRNOTAVAIL)   return "EADDRNOTAVAIL";
    if (err == EAFNOSUPPORT)    return "EAFNOSUPPORT";
    if (err == EAGAIN)          return "EAGAIN";
    if (err == EALREADY)        return "EALREADY";
    if (err == EBADE)           return "EBADE";
    if (err == EBADF)           return "EBADF";
    if (err == EBADFD)          return "EBADFD";
    if (err == EBADMSG)         return "EBADMSG";
    if (err == EBADR)           return "EBADR";
    if (err == EBADRQC)         return "EBADRQC";
    if (err == EBADSLT)         return "EBADSLT";
    if (err == EBUSY)           return "EBUSY";
    if (err == ECANCELED)       return "ECANCELED";
    if (err == ECHILD)          return "ECHILD";
    if (err == ECHRNG)          return "ECHRNG";
    if (err == ECOMM)           return "ECOMM";
    if (err == ECONNABORTED)    return "ECONNABORTED";
    if (err == ECONNREFUSED)    return "ECONNREFUSED";
    if (err == ECONNRESET)      return "ECONNRESET";
    if (err == EDEADLK)         return "EDEADLK";
    if (err == EDEADLOCK)       return "EDEADLOCK";
    if (err == EDESTADDRREQ)    return "EDESTADDRREQ";
    if (err == EDOM)            return "EDOM";
    if (err == EDQUOT)          return "EDQUOT";
    if (err == EEXIST)          return "EEXIST";
    if (err == EFAULT)          return "EFAULT";
    if (err == EFBIG)           return "EFBIG";
    if (err == EHOSTDOWN)       return "EHOSTDOWN";
    if (err == EHOSTUNREACH)    return "EHOSTUNREACH";
    if (err == EHWPOISON)       return "EHWPOISON";
    if (err == EIDRM)           return "EIDRM";
    if (err == EILSEQ)          return "EILSEQ";
    if (err == EINPROGRESS)     return "EINPROGRESS";
    if (err == EINTR)           return "EINTR";
    if (err == EINVAL)          return "EINVAL";
    if (err == EIO)             return "EIO";
    if (err == EISCONN)         return "EISCONN";
    if (err == EISDIR)          return "EISDIR";
    if (err == EISNAM)          return "EISNAM";
    if (err == EKEYEXPIRED)     return "EKEYEXPIRED";
    if (err == EKEYREJECTED)    return "EKEYREJECTED";
    if (err == EKEYREVOKED)     return "EKEYREVOKED";
    if (err == EL2HLT)          return "EL2HLT";
    if (err == EL2NSYNC)        return "EL2NSYNC";
    if (err == EL3HLT)          return "EL3HLT";
    if (err == EL3RST)          return "EL3RST";
    if (err == ELIBACC)         return "ELIBACC";
    if (err == ELIBBAD)         return "ELIBBAD";
    if (err == ELIBMAX)         return "ELIBMAX";
    if (err == ELIBSCN)         return "ELIBSCN";
    if (err == ELIBEXEC)        return "ELIBEXEC";
    if (err == ELNRNG)          return "ELNRNG";
    if (err == ELOOP)           return "ELOOP";
    if (err == EMEDIUMTYPE)     return "EMEDIUMTYPE";
    if (err == EMFILE)          return "EMFILE";
    if (err == EMLINK)          return "EMLINK";
    if (err == EMSGSIZE)        return "EMSGSIZE";
    if (err == EMULTIHOP)       return "EMULTIHOP";
    if (err == ENAMETOOLONG)    return "ENAMETOOLONG";
    if (err == ENETDOWN)        return "ENETDOWN";
    if (err == ENETRESET)       return "ENETRESET";
    if (err == ENETUNREACH)     return "ENETUNREACH";
    if (err == ENFILE)          return "ENFILE";
    if (err == ENOANO)          return "ENOANO";
    if (err == ENOBUFS)         return "ENOBUFS";
    if (err == ENODATA)         return "ENODATA";
    if (err == ENODEV)          return "ENODEV";
    if (err == ENOENT)          return "ENOENT";
    if (err == ENOEXEC)         return "ENOEXEC";
    if (err == ENOKEY)          return "ENOKEY";
    if (err == ENOLCK)          return "ENOLCK";
    if (err == ENOLINK)         return "ENOLINK";
    if (err == ENOMEDIUM)       return "ENOMEDIUM";
    if (err == ENOMEM)          return "ENOMEM";
    if (err == ENOMSG)          return "ENOMSG";
    if (err == ENONET)          return "ENONET";
    if (err == ENOPKG)          return "ENOPKG";
    if (err == ENOPROTOOPT)     return "ENOPROTOOPT";
    if (err == ENOSPC)          return "ENOSPC";
    if (err == ENOSR)           return "ENOSR";
    if (err == ENOSTR)          return "ENOSTR";
    if (err == ENOSYS)          return "ENOSYS";
    if (err == ENOTBLK)         return "ENOTBLK";
    if (err == ENOTCONN)        return "ENOTCONN";
    if (err == ENOTDIR)         return "ENOTDIR";
    if (err == ENOTEMPTY)       return "ENOTEMPTY";
    if (err == ENOTRECOVERABLE) return "ENOTRECOVERABLE";
    if (err == ENOTSOCK)        return "ENOTSOCK";
    if (err == ENOTSUP)         return "ENOTSUP";
    if (err == ENOTTY)          return "ENOTTY";
    if (err == ENOTUNIQ)        return "ENOTUNIQ";
    if (err == ENXIO)           return "ENXIO";
    if (err == EOPNOTSUPP)      return "EOPNOTSUPP";
    if (err == EOVERFLOW)       return "EOVERFLOW";
    if (err == EOWNERDEAD)      return "EOWNERDEAD";
    if (err == EPERM)           return "EPERM";
    if (err == EPFNOSUPPORT)    return "EPFNOSUPPORT";
    if (err == EPIPE)           return "EPIPE";
    if (err == EPROTO)          return "EPROTO";
    if (err == EPROTONOSUPPORT) return "EPROTONOSUPPORT";
    if (err == EPROTOTYPE)      return "EPROTOTYPE";
    if (err == ERANGE)          return "ERANGE";
    if (err == EREMCHG)         return "EREMCHG";
    if (err == EREMOTE)         return "EREMOTE";
    if (err == EREMOTEIO)       return "EREMOTEIO";
    if (err == ERESTART)        return "ERESTART";
    if (err == ERFKILL)         return "ERFKILL";
    if (err == EROFS)           return "EROFS";
    if (err == ESHUTDOWN)       return "ESHUTDOWN";
    if (err == ESPIPE)          return "ESPIPE";
    if (err == ESOCKTNOSUPPORT) return "ESOCKTNOSUPPORT";
    if (err == ESRCH)           return "ESRCH";
    if (err == ESTALE)          return "ESTALE";
    if (err == ESTRPIPE)        return "ESTRPIPE";
    if (err == ETIME)           return "ETIME";
    if (err == ETIMEDOUT)       return "ETIMEDOUT";
    if (err == ETOOMANYREFS)    return "ETOOMANYREFS";
    if (err == ETXTBSY)         return "ETXTBSY";
    if (err == EUCLEAN)         return "EUCLEAN";
    if (err == EUNATCH)         return "EUNATCH";
    if (err == EUSERS)          return "EUSERS";
    if (err == EWOULDBLOCK)     return "EWOULDBLOCK";
    if (err == EXDEV)           return "EXDEV";
    if (err == EXFULL)          return "EXFULL";

    // else
    static _Thread_local char errno_msg[22];
    snprintf(errno_msg, sizeof(errno_msg), "Unknown error: %d", err);
    return errno_msg;
}
